---

copyright:
  years: 1994, 2018
lastupdated: "2018-06-06"

---
{:new_window: target="_blank"}

# EVault SQL Server プラグインのインストール

SQL Server プラグインは、Windows エージェントとともに SQL データベース・ホスト上にインストールされます。WebCC ポータルを使用して、ジョブの構成、SQL データベースのセキュアなリモート・ボールトへのバックアップ、および SQL データベースのリストアを行うことができます。

## 提供されている機能

- データベースのフルバックアップ、トランザクション・ログを含むデータベースのフルバックアップ、またはトランザクション・ログのみのバックアップを実行できます。
- 同時に複数のバックアップを実行できます。 
- SQL データベースを同じ SQL インスタンスまたは異なる SQL インスタンスにリストアできます。
- 元のデータベース名でデータベースをリストアしたり、既存のデータベースを上書きしたり、リカバリーなしオプションを使用してリストアしたりできます。

## プラグインの注文

1. [{{site.data.keyword.slportal}}](https://control.softlayer.com/){:new_window}にログインします。
2. **「ストレージ」** > **「バックアップ」**をクリックします。
3. EVault アカウントを選択して、**「プラグインの注文」**をクリックします。
4. **「EVault プラグイン - MSSQL (EVault Plugin - MSSQL)」**を選択して、**「続行」**をクリックします。
5. 割引コードがある場合は入力し、**「再計算」**をクリックします。
6. 更新された料金が表示されます。注文を確認します。
7. **マスター・サービス契約**を確認したことを示すボックスにチェック・マークを付けて、**サード・パーティーのソフトウェアご利用条件**に同意します。 
8. **「注文」**をクリックします。

## MSSQL プラグインのインストール

Windows 用の SQL プラグインをインストールするには、エージェント・インストール・キットを実行します。プラグインが、**「カスタム・セットアップ (Custom Setup)」**ページにオプションとして表示されます。

**注**: Microsoft Windows サーバー用の MSSQL EVault プラグインをインストールする前に、`services.msc` で両方の EVault サービスを停止します。  

1. `c:\installs\evault` フォルダーを参照し、より新しい改訂番号の .exe ファイルを実行します。
2. 言語画面で**「OK」**をクリックします。
3. 初期画面で**「次へ」**をクリックします。
4. **「インストールの変更 (Modify installation)」**を選択して、**「次へ」**をクリックします。
5. **「未変更のままにする (Leave Unchanged)」**を選択して、**「次へ」**をクリックします。
6. カスタム・セットアップ画面で、購入した各プラグインを選択し、**「この機能のインストール先 (This feature will be installed on...)」**を選択して、**「次へ」**をクリックします。
7. **「現在の登録を保持する (Keep my current registration)」**ラジオ・ボタンを選択して、**「次へ」**をクリックします。
8. **「インストール (Install)」**をクリックします。
9. インストール後、両方のサービスが有効で実行中であることを確認してください。
10. WebCC がデータベースにアクセス可能 (データベースを表示可能) である場合、インストールは成功です。 

## ユーザー・ガイド

{{site.data.keyword.BluVPN}} を使用して {{site.data.keyword.BluSoftlayer_full}} ネットワークに接続すると、[ダウンロード可能な EVault 資料](http://downloads.service.softlayer.com/evault/Documentation/){:new_window}から EVault Agent for Microsoft Windows v8.0 - SQL Server Plug-in Guide.pdf をダウンロードできます。

## よくある質問

### VSS (ボリューム・シャドー・コピー・サービス) では何か行われますか。

現行バージョンの SQL Server プラグインでは、VSS (ボリューム・シャドー・コピー・サービス) を使用してバックアップを実行します。VSS を使用した SQL Server プラグインでは、SQL データベース (ボリュームをまたがる SQL データベース) を効率的にバックアップし、アプリケーションでボリュームへの書き込みを続行しながらバックアップを実行でき、データベース内およびデータベース間でのデータ整合性を提供します。VSS により、同時に複数のバックアップを実行できます。

### SQL プラグインの主な機能は何ですか。

- ワイルドカード文字 (アスタリスクと疑問符) を使用して、SQL Server のバックアップ・ジョブに対して含めるデータベースと除外するデータベースの名前を指定する機能。バックアップ・ジョブのフィルターと一致する名前の新規データベースは、ジョブの実行時に自動的に含められるか、または除外されます。 
- 64 ビットのエージェントおよび SQL Server プラグインを使用して、AlwaysOn 可用性グループ内の 2 次データベースを保護する機能。
- Granular Restore for Microsoft SharePoint アプリケーションで使用するために、SharePoint 2010/2013 コンテンツ・データベースを含む SQL のセーフセットを共有する機能。セーフセットが共有されると、Granular Restore アプリケーションを使用して、サイト・コレクション、Web サイト、リスト、ライブラリー、フォルダー、リスト・アイテム、または文書をリストアできます。
- スパン・ボリューム上に配置されたデータベースの差分に適したバックアップのサポート。
単一のスケジュール・エントリーを使用したフル・リカバリー・モデルで、データベースを保護する機能。このオプションにより、単一のスケジュール・エントリーでデータベースを保護したり、トランザクション・ログの切り捨てを管理したりできます。
- SQL Server プラグインでは、フルバックアップ、トランザクション・ログを含むフルバックアップ、およびトランザクション・ログ・バックアップ (SQL Server 用語に合わせて用語が更新されました) がサポートされます。EVault では、顧客がポイント・イン・タイムの「トランザクション・ログ」バックアップを選択できる単一パス・リストア機能が引き続きサポートされます。EVault では、データベース全体およびデータベースをリストアするために必要なすべてのトランザクション・ログが、選択されたポイント・イン・タイムにリストアされます。
- バックアップ・ジョブには、同じ単一の SQL Server インスタンスから 1 つ以上のデータベースを含めることができます。異なる SQL Server インスタンスから他のデータベースをバックアップするために個別のジョブを作成でき、必要に応じて同時に実行できます。
- 「リカバリーなし」でデータベースをリストアし、SQL Server Management Studio を介した追加のリカバリー・オプションを提供する機能。
- 代替リストア・オプションではファイルに対するリストアがサポートされており、これにより、データベース管理者は SQL システム・マネージャーを介してデータベースをマウントできます。
- 代替リストアには、論理データベース名が一致しない場合でも 1 つのデータベースから別のデータベースにリストアを送信する機能が含まれます。一致しないオブジェクトについては、プラグインにより、インスタンス用のデフォルトのデータベースの場所にデータベースが作成されます。
- 64 ビットの SQL Server 2008 R2 (SP1) および SQL Server 2012 を使用した Transparent Data Encryption (TDE) のサポート。
- SQL Server ホストが完全に破損した場合は、SQL Server ソフトウェアをインストールすると、データベースを完全にリストアできることがあります (マスター・データベースを最初にリストアする必要があります)。
- バックアップが開始されると、バックアップは、データベース・サービスが実行中かどうかにかかわらず実行されます。
- (既存のデータベースを上書きするかどうかを問わず) 元のデータベース名にリストアすることも、既存のデータベースを上書きすることも、ディスク上のファイルにリストアすることもできます。

