---

copyright:
  years: 1994, 2018
lastupdated: "2018-05-14"

---
{:screen: .screen}
{:codeblock: .codeblock}
{:pre: .pre}
{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# Linux での EVault バックアップ・クライアントのインストール 

EVault バックアップ・クライアントは、OS のシェルまたは端末で一連のコマンドを実行することにより、Linux ベースのオペレーティング・システムにインストールすることができます。この手順では、以下の Linux ベースのオペレーティング・システムのいずれかに EVault バックアップ・クライアントをインストールするために必要なステップの概要を示します。

- RedHat Enterprise Linux
- CentOS
- CloudLinux

手順を完了すると、自動化されたプロセスによりエージェント・サービスが WebCC に登録され、サービスの実行に必要なファイルがダウンロードおよびインストールされます。Linux ベースの OS に EVault バックアップ・クライアントをインストールするには、以下のステップに従ってください。

**注**: {{site.data.keyword.slportal}}でサーバーの注文時に EVault を購入した場合、ソフトウェアは自動的にインストールされるため、この資料で説明する手順を使用する必要はありません。

{{site.data.keyword.slportal}}でアップグレードとして EVault を購入した場合は、以下のステップに従ってソフトウェアをインストールしてください。

## ターゲット・デバイス・サーバーへのログイン

1. [{{site.data.keyword.slportal}}](https://control.softlayer.com/){:new_window}にログインし、メインメニューから**「デバイス」** > **「デバイス・リスト」**を選択して使用可能なサーバー・デバイスのリストを表示します。
2. EVault サービスの購入対象であるデバイスを検索し、そのパブリック IP アドレスをメモします。これは、以下のステップで UNIX または Linux コマンド・ラインからデバイスにログインする際に使用します。以降のコマンドで <publicIpAddress> を実際のパブリック IP アドレスに置き換えてください。 
3. 右向きの展開矢印をクリックし、ユーザー名、パスワードなど、デバイスに関する追加情報を表示します。  パスワードが表示されない場合は、**「パスワードの表示 (Show Password)」**チェック・ボックスを使用すると表示されます。ユーザー名とパスワードは、次のステップでテスト・デバイスにログインする際に使用します。  以降のコマンドで `<user name>` を実際のユーザー名に置き換えてください。
4. UNIX または Linux のコマンド・ラインから以下のコマンドを実行し、SSH によりターゲット・デバイスにログインします。
  ```
  ssh <user name>@<publicIpAddress>
  ```
  {: pre}
  
 **注**: 以前にこのユーザー名でこのサーバーにログインしたことがない場合は、ホストの真正性に関するメッセージが示され、続行するかどうかを尋ねられます。  **yes** で応答して続行します。
5. このサーバーへのアクセス用に以前に SSH 鍵を設定している場合を除き、パスワードの入力を求めるプロンプトが出されます。

## EVault クライアントのインストール準備のための Linux の更新 (RedHat Linux のみ)
**注**: このステップは RedHat Linux の場合に必要ですが、その他の Linux ディストリビューションではオプションです。

- サーバー・プロンプトで以下のコマンドを実行します。
  ```
  yum update
  ```
  {: pre}
   
  尋ねられた場合は、ダウンロード・サイズに問題がないことを確認します。更新が進行し、完了すると「Complete!」メッセージが表示されます。

## EVault のインストール・スクリプトの取得
- サーバー・プロンプトで以下のコマンドを実行します。
  ```
  wget -N http://downloads.service.softlayer.com/evault/evault_manual.sh
  ```
  {: pre}
   
## EVault のインストール・スクリプトの実行
1. サーバー・プロンプトで以下のコマンドを実行します。
  ```
  sh ./evault_manual.sh
  ```
  {: pre}

2. WebCC のユーザー名とパスワードを入力します。     
  **注**: EVault バックアップのユーザー名とパスワードを表示する手順について詳しくは、[バックアップ・サービス入門](/docs/infrastructure/Backup/index.html)の記事を参照してください。
3. ユーザー名とパスワードを入力した後は、インストールが進行するうちに画面にいくつかのプロンプトが表示されますが、さらに入力を必要とするものはありません。これらのプロンプトは無視しても安全です。これらのプロンプトを生成しているのは、*evault_manual.sh* スクリプトによって呼び出されるサブスクリプトです。  これらのプロンプトの入力は、*evault_manual.sh* スクリプトによって提供されます。
4. 以下に似たメッセージが表示されたら、インストールは完了です。
  ```
  Starting VVAgent: [  OK  ]
  Starting buagent: [  OK  ]
  ```
  {: codeblock}
   
## インストールが成功したかどうかの確認
1. インストールの出力に「Registered to The Portal」というメッセージが表示されることを確認します。このためには、画面でこのメッセージを検索するか、以下のコマンドの出力を検査します。
  ```
  grep 'Registered'  /opt/BUAgent/Install.log
  ```
  {: pre}

2. 以下のコマンドを実行し、出力を監視します。 
  ```
  service vvagent status
  ```
  {: pre}
   
  以下のメッセージが表示されるはずです。
  ```
  VVAgent is running (PID xxxxx).
  buagent is running (PID xxxxx).
  ```
  {: codeblock}
   
  **注**: 上記の「xxxxx」で表されるプロセス ID はインストールごとに異なります。 
  
## 次のステップ

WebCC にログインし、バックアップ・エージェントを構成および管理します。手順について詳しくは、[入門チュートリアル](index.html#configuring-evault-agent-in-webcc)を参照してください。
